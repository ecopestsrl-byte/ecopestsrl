<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ECOPEST SRL | Productos y Equipos</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto&display=swap" rel="stylesheet">
<style>
body { font-family: 'Roboto', sans-serif; margin:0; padding:0; background:#f9f9f9; }
header { background:#2E7D32; color:white; padding:15px 0; text-align:center; }
.product-card{ border:1px solid #ddd; padding:15px; margin-bottom:20px; text-align:center; cursor:pointer; transition: transform 0.2s; background:white; }
.product-card:hover { transform: scale(1.05); }
.product-card img{ width:140px; height:140px; object-fit:contain; margin-bottom:10px; }
#cart { position:fixed; top:80px; right:20px; background:white; border:1px solid #ddd; padding:10px; border-radius:8px; width:300px; max-height:400px; overflow-y:auto; display:none; z-index:1000; }
#cart h5 { margin-top:0; }
#cart button { margin-top:10px; }
.whatsapp-btn {
    position: fixed;
    bottom: 15px;
    right: 15px;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1001;
    text-decoration: none;
    border-radius: 50%;
    background-color: #25D366;
    box-shadow: 2px 2px 10px rgba(0,0,0,0.3);
}
.whatsapp-btn img { width: 60%; height: 60%; object-fit: contain; }
footer { background-color:#2E7D32; color:white; text-align:center; padding:15px 10px; margin-top:40px; font-size:0.85rem; }
footer img { width:30px; margin:0 5px; }
</style>
</head>
<body>

<header>
    <h1>ECOPEST SRL - Productos y Equipos</h1>
</header>

<div class="container my-4">
    <h2 class="text-center mb-4">Nuestros Productos</h2>
    <div class="row mb-3 text-center">
        <button class="btn btn-outline-success filter-btn" onclick="filterProducts('todos')">Todos</button>
        <button class="btn btn-outline-success filter-btn" onclick="filterProducts('Equipos')">Equipos</button>
        <button class="btn btn-outline-success filter-btn" onclick="filterProducts('Qu칤micos')">Qu칤micos</button>
        <button class="btn btn-outline-success filter-btn" onclick="filterProducts('Equipos EPP')">Equipos EPP</button>
        <button class="btn btn-outline-success filter-btn" onclick="filterProducts('Control de Roedores')">Control de Roedores</button>
    </div>
    <div class="row" id="product-list"></div>
</div>

<!-- Modal detalle producto -->
<div class="modal fade" id="productoDetalleModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Detalle del Producto</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body" id="producto-detalle-body"></div>
    </div>
  </div>
</div>

<div id="cart">
    <h5>Carrito de Compras</h5>
    <ul id="cart-items"></ul>
    <p>Total Productos: <span id="cart-total">0</span></p>
    <button class="btn btn-success" onclick="checkout()">Finalizar Compra</button>
</div>

<a href="https://wa.me/18097383196" class="whatsapp-btn" target="_blank">
    <img src="img/whatsapp.png" alt="WhatsApp">
</a>

<footer>
    춸 2025 ECOPEST S.R.L | Todos los derechos reservados<br>
    Creado por <strong>游눹 Soluciones CodeWave</strong><br>
    <a href="https://www.facebook.com/eco.pest.srl/" target="_blank"><img src="img/facebook.jpg" alt="Facebook"></a>
    <a href="https://www.instagram.com/ecopestsrl/" target="_blank"><img src="img/instagram.jpg" alt="Instagram"></a>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Productos sin precio
const products = [
   {id:1, name:"Pulverizador Manual", category:"Equipos", img:"img/pulverizador.jpg", description:"Pulverizador manual ideal para uso dom칠stico y profesional. Dep칩sito de 18L, dise침o robusto."},
   {id:2, name:"Nebulizador ULV El칠ctrico", category:"Equipos", img:"img/nebulizador.jpg", description:"Nebulizador para desinfecci칩n en fr칤o ULV con motor el칠ctrico y control preciso."},
   {id:3, name:"Bomba de Fumigaci칩n", category:"Equipos", img:"img/bomba.jpg", description:"Bomba para fumigaci칩n con excelente rendimiento y durabilidad."},
   {id:4, name:"Thermo Fogger", category:"Equipos", img:"img/thermo.jpg", description:"Termonebulizador para productos qu칤micos a base de agua y aceite, control de mosquitos y plagas."},
   {id:5, name:"Fly Hunter Smart 30", category:"Equipos", img:"img/lampara.jpg", description:"L치mpara Fly Hunter que atrapa insectos voladores con tablero de pegamento."},
   {id:6, name:"Insecticida Profesional", category:"Qu칤micos", img:"img/insecticida.jpg", description:"Insecticida concentrado profesional con resultados inmediatos."},
   {id:7, name:"Advion Cockroach", category:"Qu칤micos", img:"img/advion.jpg", description:"Gel con Indoxacarb de alta efectividad para cucarachas."},
   {id:8, name:"Invict-Cockroach-Gel", category:"Qu칤micos", img:"img/invict.jpg", description:"Cebo gel para cucarachas, r치pido y seguro en interiores."},
   {id:9, name:"Estaci칩n de Cebo para Ratas", category:"Control de Roedores", img:"img/estacion.jpg", description:"Estaci칩n de cebo Max-A, eficaz y segura para ratas."},
   {id:10, name:"Trampa Met치lica", category:"Control de Roedores", img:"img/cebadero2.jpg", description:"Trampa mec치nica Multi-Catch Mouse que captura hasta 12 ratones."},
   {id:11, name:"Trampa Mec치nica", category:"Control de Roedores", img:"img/cebadero3.jpg", description:"Trampa de captura sin muerte, respetuosa con los roedores."},
   {id:12, name:"Cebo para Ratas", category:"Control de Roedores", img:"img/cebo.jpg", description:"Cebo efectivo para control de ratas en interiores y exteriores."},
   {id:13, name:"Guantes de Protecci칩n", category:"Equipos EPP", img:"img/guante.jpg", description:"Guantes resistentes para protecci칩n durante fumigaciones."},
   {id:14, name:"Mascarilla de Protecci칩n Carbon Activado", category:"Equipos EPP", img:"img/mascarilla.jpg", description:"Mascarilla con filtro de carb칩n activado para mayor seguridad."},
   {id:15, name:"Mascarilla Cara Completa", category:"Equipos EPP", img:"img/mascara.jpg", description:"Mascarilla facial completa para protecci칩n total."},
   {id:16, name:"Fumigadora Estacionaria", category:"Equipos", img:"img/estacionaria.jpg", description:"Fumigadora Estacionaria a Gasolina de 6.5 Hp."},
   {id:17, name:"Tablero de pegamento para trampa para ratones", category:"Control de Roedores", img:"img/tablero.png", description:"No t칩xico y seguro, se pliega en forma de t칰nel, multi-funci칩n para ratones, cucarachas, grillos y m치s."},
   {id:18, name:"Trampa Engomada Para Roedores", category:"Control de Roedores", img:"img/pegamento.jpg", description:"Placas adhesivas que capturan ratas y ratones sin veneno, ideal para cocinas y hospitales."}
];

let cart = JSON.parse(localStorage.getItem('cart')) || [];

// Mostrar productos
function displayProducts(list=products){
    const productList = document.getElementById('product-list');
    productList.innerHTML = '';
    list.forEach(product=>{
        const col = document.createElement('div');
        col.className='col-md-4';
        col.innerHTML=`
            <div class="product-card" onclick="showProductDetail(${product.id})">
                <img src="${product.img}" alt="${product.name}">
                <h5>${product.name}</h5>
                <p><button class="btn btn-success btn-sm">Agregar Cantidad</button></p>
            </div>
        `;
        productList.appendChild(col);
    });
}

// Filtrar productos
function filterProducts(category){
    if(category==='todos'){ displayProducts(); return; }
    const filtered = products.filter(p=>p.category===category);
    displayProducts(filtered);
}

// Detalle producto con cantidad
function showProductDetail(id){
    const product = products.find(p=>p.id===id);
    const modalBody = document.getElementById('producto-detalle-body');
    modalBody.innerHTML=`
        <img src="${product.img}" style="width:200px; display:block; margin:0 auto 15px;">
        <h5>${product.name}</h5>
        <p>${product.description}</p>
        <div class="mb-3">
            <label for="cantidad-${product.id}">Cantidad:</label>
            <input type="number" id="cantidad-${product.id}" min="1" value="1" style="width:60px; margin-left:10px;">
        </div>
        <button class="btn btn-success" onclick="addToCart(${product.id})">Agregar al carrito</button>
    `;
    const modal = new bootstrap.Modal(document.getElementById('productoDetalleModal'));
    modal.show();
}

// Agregar al carrito
function addToCart(id){
    const product = products.find(p=>p.id===id);
    const cantidad = parseInt(document.getElementById(`cantidad-${id}`).value);

    const existing = cart.find(item => item.id === id);
    if(existing){
        existing.quantity += cantidad;
    } else {
        cart.push({...product, quantity: cantidad});
    }

    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartCount();
    alert(`Producto agregado al carrito: ${cantidad} ${product.name}`);
}

// Contador carrito
function updateCartCount(){
    const totalQuantity = cart.reduce((sum, item) => sum + (item.quantity || 0), 0);
    document.getElementById('cart-count')?.innerText = totalQuantity;
}

// Mostrar/ocultar carrito
function toggleCart(){
    const cartDiv = document.getElementById('cart');
    cartDiv.style.display = cartDiv.style.display==='block' ? 'none':'block';
    displayCartItems();
}

// Mostrar productos en carrito con cantidad
function displayCartItems(){
    const ul = document.getElementById('cart-items');
    ul.innerHTML='';
    cart.forEach((item,index)=>{
        const li = document.createElement('li');
        li.textContent=`${item.name} - Cantidad: ${item.quantity}`;
        ul.appendChild(li);
    });
    document.getElementById('cart-total').innerText = cart.reduce((sum,item)=>sum + item.quantity,0);
}

// Finalizar compra
function checkout(){
    if(cart.length===0){ alert('Carrito vac칤o'); return; }
    alert(`Gracias por su compra. Cantidad total de productos: ${cart.reduce((sum,item)=>sum + item.quantity,0)}`);
    cart=[];
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartCount();
    toggleCart();
}

// Inicializar
displayProducts();
updateCartCount();
</script>

</body>
</html>
